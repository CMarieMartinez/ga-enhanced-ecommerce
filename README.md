# ga-enhanced-ecommerce
An example of pushing variables into the dataLayer for Google Analytics Enhanced Ecommerce

The code pushes ecommerce objects into the dataLayer, providing variables for Google Tag Manager to pass as parameters into the GA constant variable and the Google Ads Remarketing tag.  The ecommerce objects measure user behavior in Google Analytics Enhanced Ecommerce. You can find the Enhanced Ecommerce objects here https://developers.google.com/tag-manager/enhanced-ecommerce.

GA Enhanced Ecommerce measures the sales funnel from search impressions, to product click, product view, add-to-cart, remove-from-cart and, lastly, purchase. Pushing the sales data into the dataLayer provides GTM variables for Google Ads to use in creating lists for dynamic remarketing campaigns and marketing insights to display in GA. For marketers, the dataLayer enables smarter campaigns with increased conversions. You can learn about Google Ads dynamic remarketing here https://support.google.com/tagmanager/answer/6106009?hl=en.

For simplicity, the code does not feature the optional objects for measuring promotions or measuring the checkout steps. The code adds "cart preview" in between the product page behavior and the order page purchase behavior.

The code's order starts with product-impressions, measuring search behavior. The second step is product-click, the product a user clicks from an array of products after a search inquiry. The third step is product-detail-impressions, measuring the product page views. The fourth step is add-to-cart, a product object pushed with a click event. The fifth step is remove-from-cart, a product object pushed with a click event. The sixth step is cart-preview, measuring products in the cart. The add-to-cart and remove-from-cart measurements can also be modified to push product objects on the cart page. The seventh step is purchases-order-page, the purchase object minus the transactionid. The purchase object needs the transactionid to complete the conversion funnel but, in this case, the transactionid is not provided until the confirmation page is displayed. The transactionid enables marketers to identify and target high spending users. On the order page, the order button's click event saves the incomplete purchase object in local storage instead of pushing the incomplete purchase object into the dataLayer. The last step is purchases-confirmation-page, featuring the transactionid. A load event calls the incomplete purchase object from local storage, adds the transactionid and pushes the complete purchase object into the dataLayer.

This is just an example of GA Enhanced Ecommerce. Your code, of course, will look much different in creating the Enhanced Ecommerce object. Once the dataLayer is collecting data, the data can then be used as variables in GTM. You must collect the dataLayer variables in GTM to be used as parameters in the GA constant and Google Ads Remarketing tag.
